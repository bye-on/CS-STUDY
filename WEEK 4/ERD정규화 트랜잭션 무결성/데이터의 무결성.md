# 데이터의 무결성

# **데이터의 무결성**

- 데이터의 무결성은 데이터의 정확성, 일관성, 유효성이 유지되는 것을 말한다.
- 데이터의 무결성을 유지하는 것은 데이터베이스 관리시스템 (DBMS)의 중요한 기능이며, 주로 데이터에 적용되는 연산에 제한을 두어 데이터의 무결성을 유지한다.

## **1) 개체 무결성 (Entity integrity)**

- 모든 테이블이 기본 키 (primary key)로 선택된 필드 (column)를 가져야 한다. 기본 키로 선택된 필드는 고유한 값을 가져야 하며, 빈 값은 허용하지 않는다.

<aside>

기본 키는 NULL이 될 수 없음: 각 행이 고유하게 식별되도록 보장

기본 키는 중복이 일어날 수 없음: 동일한 값이 반복되지 않도록 보장

</aside>

## **2) 참조 무결성 (Referential integrity)**

- 관계형 데이터베이스 모델에서 참조 무결성은 참조 관계에 있는 두 테이블의 데이터가 항상 일관된 값을 갖도록 유지되는 것을 말한다.
- 아래의 그림은 관계형 데이터베이스 모델에서 참조 무결성이 깨지는 경우를 나타낸다.
- 이 예시에서는 department 테이블을 참조하는 student 테이블을 보여주고 있다.
- 이러한 참조 관계에서 만약 department 테이블에서 id 값이 310인 레코드가 삭제되면 student 테이블의 3번째 레코드는 더 이상 존재하지 않는 데이터를 참조하게 된다.

![스크린샷 2025-12-04 오후 5.56.33.png](image/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2025-12-04_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_5.56.33.png)

- 참조 무결성에 대한 예시는 그림에서 설명한 것 이외에도 더 많은 것들이 있다.

**외래 키와 참조 무결성**

- 데이터베이스에서는 참조 무결성을 위해 참조 대상이 존재하지 않는 외래 키를 허용하지 않는다.
- 즉, 어떠한 외래 키 가 를 참조한다면, 는 반드시 데이터베이스에 존재해야 한다.
- 외래 키는 참조 무결성을 지키기 위해 RESTRICTED와 CASCADE, SET NULL이라는 개념을 외래 키에 적용할 수 있도록 기능을 제공한다.

종류

- **RESTRICTED**
  - 레코드를 변경 또는 삭제하고자 할 때 해당 레코드를 참조하고 있는 개체가 있다면, 변경 또는 삭제 연산을 취소한다.
- **CASCADE**
  - 레코드를 변경 또는 삭제하면, 해당 레코드를 참조하고 있는 개체도 변경 또는 삭제된다.
- **SET NULL**
  - 레코드를 변경 또는 삭제하면, 해당 레코드를 참조하고 있는 개체의 값을 NULL로 설정한다.

<aside>

외래 키는 참조할 수 없는 값을 가질 수 없음: 외래 키는 항상 참조하는 기본 키와 일치해야 함

</aside>

## **3) 도메인 무결성 (Domain integrity)**

- 도메인 무결성은 테이블에 존재하는 필드의 무결성을 보장하기 위한 것으로 필드의 타입, NULL값의 허용 등에 대한 사항을 정의하고, 올바른 데이터의 입력 되었는지를 확인하는 것이다.
- 예를 들어, 주민등록번호 필드에 알파벳이 입력되는 경우는 도메인 무결성이 깨지는 경우라고 볼 수 있다.
- DBMS의 기본값 설정, NOT NULL 옵션 등의 제약 사항으로 도메인 무결성을 보장할 수 있다.

<aside>

주어진 속성이 정의된 도메인에 속해야 함: ex) 나이 열에는 0에서 120 사이의 정수 값만 허용되도록 설정

</aside>

## **4) 고유 무결성 (Unique integrity)**

- **테이블의 특정 속성에 대해 각 레코드들이 갖는 값들이 서로 달라야 하는 조건. 예를 들어, 사용자 ID는 중복될 수 없다.**

<aside>

**테이블의 모든 행에서 특정 컬럼의 값은 반드시 고유해야 한다.**

</aside>

## **5) 키 무결성 (Key integrity)**

- 개체 무결성과 참조 무결성을 아우르는 표현

<aside>

테이블에서 사용되는 모든 키(기본키와 후보키)는 고유해야 하며 중복을 허용하지 않는다.

각 릴레이션은 적어도 하나의 키를 가져야 한다.

</aside>

## **6) 관계 무결성 (Relationship integrity)**

- **테이블의 어느 한 레코드의 삽입 가능 여부 또는 한 테이블과 다른 테이블의 레코드들 사이의 관계에 대한 적절성 여부를 지정한 조건**

<aside>

관계형 데이터베이스의 릴레이션(테이블)이 정해진 규칙에 따라 유효한 데이터만 유지해야 한다.

삽입, 삭제, 갱신 등의 연산은 릴레이션의 무결성을 해치치 않도록 수행되어야 한다.

</aside>
