# HTTPS

## 1. HTTPSμ λ“±μ¥ λ°°κ²½

### 1.1 HTTPλ€ λ¬΄μ—‡μΈκ°€?

- HTTP λ” ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ μ„λ΅ λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›κΈ° μ„ν•΄ μ‚¬μ©ν•λ” ν†µμ‹  κ·μΉ™μ…λ‹λ‹¤.
- "μ΄ μ›Ήνμ΄μ§€λ¥Ό λ³΄μ—¬μ¤"λΌκ³  μ”μ²­ν•κ³ , "μ•μ•μ–΄, μ—¬κΈ° μ›Ήνμ΄μ§€ λ°μ΄ν„°μ•Ό"λΌκ³  μ‘λ‹µν•λ” μ›Ήμ κ°€μ¥ κΈ°λ³Έμ μΈ μ–Έμ–΄μ…λ‹λ‹¤.
- **κ°€μ¥ ν° νΉμ§•:** μ΄ λ¨λ“  μ”μ²­κ³Ό μ‘λ‹µμ΄ **'ν‰λ¬Έ(Plain Text)', μ¦‰ μ•”νΈν™”λμ§€ μ•μ€ ν…μ¤νΈ**λ΅ μ¤κ³  κ°„λ‹¤λ” κ²ƒμ…λ‹λ‹¤.

> π’΅ λΉ„μ : μ—½μ„(Postcard)
>
> HTTP ν†µμ‹ μ€ λ‚΄μ©μ„ λ„κµ¬λ‚ λ³Ό μ μλ” 'μ—½μ„'λ¥Ό μ£Όκ³ λ°›λ” κ²ƒκ³Ό κ°™μµλ‹λ‹¤. λ°°λ‹¬λ¶€(λ„¤νΈμ›ν¬ μ¤‘κ°„μ)λ” λ¬Όλ΅ , μ—½μ„λ¥Ό μ¤‘κ°„μ— κ°€λ΅μ±„λ” λ„κµ¬λ‚ κ·Έ λ‚΄μ©μ„ ν›¤ν λ“¤μ—¬λ‹¤λ³Ό μ μμµλ‹λ‹¤.

### 1.2 λ¬Έμ μ  1: λ„μ²­

μ—½μ„μ λ‚΄μ©μ„ λ„κµ¬λ‚ μ½μ„ μ μλ“―μ΄, HTTPλ” **λ„μ²­**μ— κ·Ήλ„λ΅ μ·¨μ•½ν•©λ‹λ‹¤.

- **μ›λ¦¬:** λ„¤νΈμ›ν¬ μ¥λΉ„(λΌμ°ν„° λ“±)λ‚ κ°™μ€ λ„¤νΈμ›ν¬(νΉν κ³µμ© Wi-Fi)μ— μ ‘μ†ν• κ³µκ²©μκ°€ **'ν¨ν‚· μ¤λ‹ν•‘(Packet Sniffing)'** λ„κµ¬λ¥Ό μ‚¬μ©ν•λ©΄, μ¤κ³  κ°€λ” HTTP ν¨ν‚·μ„ κ·Έλ€λ΅ μ—Ώλ³Ό μ μμµλ‹λ‹¤.
- **μΉλ…μ  μ‚¬λ΅€: κ³µμ© Wi-Fiμ—μ„μ λ΅κ·ΈμΈ**

  1. μ‚¬μ©μκ°€ μ¤νƒ€λ²…μ¤ κ°™μ€ κ³µμ© Wi-Fiμ— μ ‘μ†ν•΄ HTTPλ΅ λ§λ“¤μ–΄μ§„ μ‚¬μ΄νΈ(μ: `http://www.shoppingmall.com`)μ— λ΅κ·ΈμΈν•©λ‹λ‹¤.
  2. μ΄λ• μ „μ†΅λλ” λ΅κ·ΈμΈ ν¨ν‚·μ€ λ‹¤μκ³Ό κ°™μ΄ ν‰λ¬ΈμΌλ΅ μ „μ†΅λ©λ‹λ‹¤.

     POST /login HTTP/1.1 ...

     username=my_id&password=my_password123

  3. ν•΄μ»¤λ” μ΄ ν¨ν‚·μ„ κ°€λ΅μ±„ **μ‚¬μ©μμ μ•„μ΄λ””μ™€ λΉ„λ°€λ²νΈλ¥Ό μ¦‰μ‹ νƒμ·¨**ν•  μ μμµλ‹λ‹¤.

### 1.3 λ¬Έμ μ  2: λ³€μ΅°

μ—½μ„μ λ‚΄μ©μ„ μ½λ” κ²ƒμ„ λ„μ–΄, μ¤‘κ°„μ— **λ‚΄μ©μ„ κ³ μ³ μ“°λ” κ²ƒ**λ„ κ°€λ¥ν•©λ‹λ‹¤.

- **μ›λ¦¬:** HTTPλ” λ°μ΄ν„°κ°€ μ›λ³Έ κ·Έλ€λ΅μΈμ§€, μ¤‘κ°„μ— λ„κ°€ κ³ μΉμ§€ μ•μ•λ”μ§€ κ²€μ¦ν•  **'λ¬΄κ²°μ„±(Integrity)'** λ³΄μ¥ μ¥μΉκ°€ μ—†μµλ‹λ‹¤.
- 'μ¤‘κ°„μ κ³µκ²©'μ„ ν†µν•΄ κ³µκ²©μκ°€ μ„λ²„μ μ‘λ‹µμ„ κ°€λ΅μ±„ μ•…μ„±μ½”λ“λ¥Ό μ‹¬κ±°λ‚ λ‚΄μ©μ„ μ΅°μ‘ν• λ’¤, μ‚¬μ©μμ—κ² μ „λ‹¬ν•  μ μμµλ‹λ‹¤.
- **μ‚¬λ΅€ 1: μ•…μ„±μ½”λ“ μ ν¬**
  1. μ‚¬μ©μκ°€ μ •μƒμ μΈ ν”„λ΅κ·Έλ¨(`A.exe`)μ„ λ‹¤μ΄λ΅λ“ν•©λ‹λ‹¤.
  2. ν•΄μ»¤κ°€ μ‘λ‹µμ„ κ°€λ΅μ±„, μ΄λ¥Ό μ•…μ„±μ½”λ“κ°€ μ‹¬κΈ΄ `B.exe` νμΌλ΅ λ°”κΏ”μΉκΈ°ν•©λ‹λ‹¤.
  3. μ‚¬μ©μλ” `A.exe`λ¥Ό λ‹¤μ΄λ΅λ“ν• μ¤„ μ•κ³  `B.exe`λ¥Ό μ‹¤ν–‰ν•μ—¬ κ°μ—Όλ©λ‹λ‹¤.
- **μ‚¬λ΅€ 2: κ΄‘κ³  κ°•μ  μ‚½μ…**
  - μΌλ¶€ ν†µμ‹ μ‚¬(ISP)λ‚ κ³µμ© Wi-Fi μ κ³µμκ°€ HTTP μ‚¬μ΄νΈ μ‘λ‹µμ— **μμ‚¬μ κ΄‘κ³  μ¤ν¬λ¦½νΈλ¥Ό κ°•μ λ΅ μ‚½μ…**ν•μ—¬, μ›μΉ μ•λ” κ΄‘κ³ λ¥Ό μ‚¬μ©μμ—κ² λ…Έμ¶μ‹ν‚µλ‹λ‹¤.

### 1.4 λ¬Έμ μ  3: μ„μ¥

ν†µμ‹  μƒλ€λ°©μ΄ **"λ‚΄κ°€ μ ‘μ†ν•λ ¤λ” κ·Έ μ„λ²„κ°€ λ§λ”μ§€"** μ¦λ…ν•  λ°©λ²•μ΄ μ—†μµλ‹λ‹¤.

- **μ›λ¦¬:** HTTPλ” μ„λ²„κ°€ μμ‹ μ΄ λ„κµ¬μΈμ§€ 'μΈμ¦(Authentication)'ν•λ” μ μ°¨κ°€ μ—†μµλ‹λ‹¤.
- **μ‚¬λ΅€: κ°€μ§ μ€ν–‰ μ‚¬μ΄νΈ (νλ°/ν”Όμ‹±)**
  1. ν•΄μ»¤κ°€ DNS μ •λ³΄λ¥Ό μ†μ΄κ±°λ‚(νλ°) ν”Όμ‹± λ§ν¬λ¥Ό λ³΄λ‚΄, μ‚¬μ©μλ¥Ό μ‹¤μ  μ€ν–‰ μ‚¬μ΄νΈμ™€ λ‘κ°™μ΄ μƒκΈ΄ **κ°€μ§ μ„λ²„(ν•΄μ»¤ μ„λ²„)**λ΅ μ ‘μ†ν•λ„λ΅ μ λ„ν•©λ‹λ‹¤.
  2. μ‚¬μ©μλ” μ£Όμ†μ°½μ΄ `http://`μΈ κ²ƒμ„ μΈμ§€ν•μ§€ λ»ν•κ³ , ν‰μ†μ²λΌ μ•„μ΄λ””μ™€ λΉ„λ°€λ²νΈ, λ³΄μ•μΉ΄λ“ λ²νΈλ¥Ό μ…λ ¥ν•©λ‹λ‹¤.
  3. μ΄ λ¨λ“  μ •λ³΄λ” ν•΄μ»¤μ μ„λ²„λ΅ μ „μ†΅λμ–΄ κΈμµ μ •λ³΄κ°€ κ·Έλ€λ΅ νƒμ·¨λ‹Ήν•©λ‹λ‹¤.

---

## 2. HTTPSλ€ λ¬΄μ—‡μΈκ°€?: λ¬Έμ  ν•΄κ²°μ 3κ°€μ§€ μ—΄μ‡ 

![image.png](./image/https-image.png)

### 2.1. μ •μ: HTTP over SSL/TLS

- HTTPS (HyperText Transfer Protocol Secure)λ” HTTPμ— 'S'(Secure)κ°€ λ¶™μ€ κ²ƒμ…λ‹λ‹¤.
- μ΄ 'S'μ μ‹¤μ²΄λ” **SSL (Secure Sockets Layer)** λλ” TLS (Transport Layer Security)λΌλ” λ³΄μ• κ³„μΈµ(Secure Layer)μ…λ‹λ‹¤.
- **ν•µμ‹¬:** κΈ°μ΅΄μ HTTPλ” μ• ν”λ¦¬μΌ€μ΄μ… κ³„μΈµμ—μ„ λ°”λ΅ TCP κ³„μΈµμΌλ΅ λ°μ΄ν„°λ¥Ό λ³΄λƒμ§€λ§, HTTPSλ” **μ• ν”λ¦¬μΌ€μ΄μ… κ³„μΈµ(HTTP)κ³Ό μ „μ†΅ κ³„μΈµ(TCP) μ‚¬μ΄**μ— **SSL/TLS κ³„μΈµ**μ„ λΌμ› λ„£μµλ‹λ‹¤.
- **λ™μ‘:**
  1. μ• ν”λ¦¬μΌ€μ΄μ… κ³„μΈµ(HTTP)μ—μ„ λ§λ“  ν‰λ¬Έ λ©”μ‹μ§€λ¥Ό
  2. SSL/TLS κ³„μΈµμ—μ„ **μ•”νΈν™”ν•κ³ , λ³€μ΅°λμ§€ μ•μ•λ”μ§€ λ΄‰μΈ**ν•©λ‹λ‹¤.
  3. μ΄ μ•”νΈν™”λ λ©μ–΄λ¦¬(λ°μ΄ν„°)λ¥Ό μ „μ†΅ κ³„μΈµ(TCP)μ— μ „λ‹¬ν•μ—¬ μΈν„°λ„·μΌλ΅ λ³΄λƒ…λ‹λ‹¤.

### 2.2. λ©ν‘ 1: μ•”νΈν™” (Confidentiality) β†’ (λ„μ²­ μ—Ώλ³΄κΈ° λ¬Έμ  ν•΄κ²°)

- **μ •μ:** ν†µμ‹  μ±„λ„ μμ²΄λ¥Ό **μ•”νΈν™”**ν•©λ‹λ‹¤.
- **ν•΄κ²°:** λ°μ΄ν„°κ°€ μ•”νΈν™”λ μƒνƒ(λ¬΄μ‘μ„ λ¬Έμμ—΄μ²λΌ λ³΄μ΄λ” μƒνƒ)λ΅ μ „μ†΅λ©λ‹λ‹¤.
- **κ²°κ³Ό:** κ³µκ²©μκ°€ μ¤‘κ°„μ— ν¨ν‚·μ„ μ¤λ‹ν•‘(λ„μ²­)ν•λ”λΌλ„, μ•„μ΄λ””, λΉ„λ°€λ²νΈ, μΉ΄λ“ λ²νΈ κ°™μ€ λ―Όκ°ν• λ‚΄μ©μ„ **μ „ν€ μ•μ•„λ³Ό μ μ—†μµλ‹λ‹¤.**

> π’΅ λΉ„μ : μ—½μ„ β†’ μ κΈ΄ μ² μ  κΈκ³ 
> ν‰λ¬Έ μ—½μ„(HTTP) λ€μ‹ , λ‚΄μ©μ„ λ„£κ³  μ—΄μ‡ λ΅ μ κ·Ό μ² μ  κΈκ³ (HTTPS)λ¥Ό λ³΄λ‚΄λ” κ²ƒκ³Ό κ°™μµλ‹λ‹¤. μ¤‘κ°„μ— λ„κµ°κ°€ κΈκ³ λ¥Ό κ°€λ΅μ±„λ„ μ—΄μ‡ κ°€ μ—†μΌλ©΄ μ λ€ μ—΄μ–΄λ³Ό μ μ—†μµλ‹λ‹¤.

### 2.3. λ©ν‘ 2: λ¬΄κ²°μ„± (Integrity) β†’ (λ³€μ΅° λ¬Έμ  ν•΄κ²°)

- **μ •μ:** μ „μ†΅λ λ°μ΄ν„°κ°€ **μ›λ³Έ κ·Έλ€λ΅**μΈμ§€, μ¤‘κ°„μ— **λ³€μ΅°λμ§€ μ•μ•λ”μ§€**λ¥Ό λ³΄μ¥ν•©λ‹λ‹¤.
- **ν•΄κ²°:** λ°μ΄ν„°μ™€ ν•¨κ» 'μ΄ λ°μ΄ν„°λ” λ³€μ΅°λμ§€ μ•μ•μ'μ„ μ¦λ…ν•λ” 'μ„λ…(HMAC λ“±)'μ„ ν•¨κ» λ³΄λƒ…λ‹λ‹¤.
- **κ²°κ³Ό:** λ§μ•½ κ³µκ²©μκ°€ μ¤‘κ°„μ— λ°μ΄ν„°λ¥Ό 1λΉ„νΈλΌλ„ μμ •ν•λ©΄, μ„λ…κ°’μ΄ μΌμΉν•μ§€ μ•κ² λ©λ‹λ‹¤. λΈλΌμ°μ €λ” "λ°μ΄ν„°κ°€ λ³€μ΅°λμ—μµλ‹λ‹¤!"λΌκ³  κ²½κ³ ν•λ©° **μ—°κ²°μ„ μ¦‰μ‹ μ°¨λ‹¨**ν•©λ‹λ‹¤. κ΄‘κ³  κ°•μ  μ‚½μ…μ΄λ‚ μ•…μ„±μ½”λ“ λ°”κΏ”μΉκΈ°κ°€ λ¶κ°€λ¥ν•΄μ§‘λ‹λ‹¤.

### 2.4. λ©ν‘ 3: μΈμ¦ (Authentication) β†’ (μ„μ¥ λ¬Έμ  ν•΄κ²°)

- **μ •μ:** λ‚΄κ°€ ν†µμ‹ ν•κ³  μλ” **μƒλ€λ°©(μ„λ²„)μ΄ μ •λ§ λ‚΄κ°€ μ ‘μ†ν•λ ¤λ κ·Έ μ„λ²„κ°€ λ§λ”μ§€** μ‹ μ›μ„ ν™•μΈ(μΈμ¦)ν•©λ‹λ‹¤.
- **ν•΄κ²°:** μ„λ²„λ” 'SSL/TLS μΈμ¦μ„'λΌλ” κ²ƒμ„ ν΄λΌμ΄μ–ΈνΈ(λΈλΌμ°μ €)μ—κ² μ μ‹ν•΄μ•Ό ν•©λ‹λ‹¤.
- **κ²°κ³Ό:** μ΄ μΈμ¦μ„λ” μ‹ λΆ°ν•  μ μλ” μ 3μ(CA)κ°€ λ°κΈ‰ν• 'μ„λ²„μ© μ‹ λ¶„μ¦'μ…λ‹λ‹¤. λΈλΌμ°μ €λ” μ΄ μ‹ λ¶„μ¦μ„ κ²€μ¦ν•μ—¬, λ‚΄κ°€ μ ‘μ†ν• μ‚¬μ΄νΈκ°€ `www.google.com`μ΄ λ§λ”μ§€, μ•„λ‹λ©΄ ν•΄μ»¤κ°€ λ§λ“  κ°€μ§ ν”Όμ‹± μ‚¬μ΄νΈμΈμ§€ μ¦‰μ‹ κµ¬λ³„ν•  μ μμµλ‹λ‹¤. (κ°€μ§ μ‚¬μ΄νΈλ” μ΄ μΈμ¦μ„λ¥Ό κ°€μ§ μ μ—†μµλ‹λ‹¤.)

---

## 3. HTTPSμ ν•µμ‹¬ μ›λ¦¬ (1): "μ‹ λΆ°"λ” μ–΄λ–»κ² λ§λ“¤μ–΄μ§€λ”κ°€?

### 3.1. λ¬Έμ : "μ‹ λΆ°μ λ”λ λ§"

- HTTPSκ°€ 'μΈμ¦'μ„ ν†µν•΄ μ„μ¥ λ¬Έμ λ¥Ό ν•΄κ²°ν•λ‹¤κ³  ν–μµλ‹λ‹¤.
- ν•μ§€λ§ κ·Όλ³Έμ μΈ λ”λ λ§κ°€ λ‚¨μµλ‹λ‹¤.
  - **μ„λ²„:** "λ‚΄κ°€ `google.com`μ΄ λ§μµλ‹λ‹¤."
  - **ν΄λΌμ΄μ–ΈνΈ(λΈλΌμ°μ €):** "λ‹Ήμ‹ μ΄ `google.com`μ΄λΌλ” κ²ƒμ„ **μ–΄λ–»κ² μ¦λ…**ν•  κ±°μ£ ?"
- λ‚΄κ°€ `google.com`μ΄λΌκ³  μ£Όμ¥ν•λ” κ°€μ§ μ„λ²„(ν•΄μ»¤)λ„ λ‘κ°™μ΄ "λ‚΄κ°€ `google.com`μ΄λ‹¤"λΌκ³  λ§ν•  κ²ƒμ…λ‹λ‹¤. μΈν„°λ„·μ²λΌ μ–Όκµ΄ μ—†λ” κ³µκ°„μ—μ„ μ–΄λ–»κ² μ§„μ§μ™€ κ°€μ§λ¥Ό κµ¬λ³„ν•  μ μμ„κΉμ”?

### 3.2. ν•΄κ²°μ±…: κ³µμΈλ μ 3μ, CA (Certificate Authority)

- **κ°λ…:** μ΄ λ”λ λ§λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄ 'μ‹ λΆ°ν•  μ μλ” κ³µμΈλ μ 3μ(Trusted Third Party)'λ¥Ό λ„μ…ν–μµλ‹λ‹¤. μ΄κ²ƒμ΄ λ°”λ΅ CA (Certificate Authority, μΈμ¦ κΈ°κ΄€)μ…λ‹λ‹¤.
- **λΉ„μ :**
  - ν„μ‹¤ μ„Έκ³„μ—μ„ 'λ‚'μ μ‹ μ›μ„ μ¦λ…ν•΄μ£Όλ” κ²ƒμ€ μ •λ¶€(ν–‰μ •μ•μ „λ¶€)κ°€ λ°κΈ‰ν• 'μ£Όλ―Όλ“±λ΅μ¦'μ…λ‹λ‹¤.
  - μ›Ή μ„Έκ³„μ—μ„ 'μ„λ²„'μ μ‹ μ›μ„ μ¦λ…ν•΄μ£Όλ” κ²ƒμ€ **CA**κ°€ λ°κΈ‰ν• 'SSL/TLS μΈμ¦μ„'μ…λ‹λ‹¤.
- **μ‹ λΆ°μ κ·Όμ› (Root CA):**
  - Microsoft, Apple, Google(Android), Mozilla(Firefox) λ“± λΈλΌμ°μ €λ‚ OS(μ΄μμ²΄μ ) κ°λ°μ‚¬λ“¤μ€, **μ „ μ„Έκ³„μ μΌλ΅ μ‹ λΆ°ν•  μ μλ‹¤κ³  κ²€μ¦λ CAλ“¤μ λ©λ΅**μ„ λ―Έλ¦¬ λΈλΌμ°μ €/OSμ— λ‚΄μ¥ν•΄ λ‘΅λ‹λ‹¤.
  - μ΄ μµμƒμ„ CAλ¥Ό 'Root CA'λΌκ³  λ¶€λ¦…λ‹λ‹¤. (μ: Sectigo, DigiCert, Let's Encrypt λ“±)
  - λΈλΌμ°μ €λ” **μ΄ 'Root CA'κ°€ λ³΄μ¦(μ„λ…)ν• μΈμ¦μ„'λ§** μ‹ λΆ°ν•©λ‹λ‹¤.

### 3.3. ν•µμ‹¬ λ„κµ¬: SSL/TLS μΈμ¦μ„ (Certificate)

- **μ •μ:** μ„λ²„κ°€ CAλ΅λ¶€ν„° λ°κΈ‰λ°›μ€ 'κ³µμ‹ μ„λ²„ μ‹ λ¶„μ¦'μ…λ‹λ‹¤.
- **μ—­ν• :**
  1. **μΈμ¦:** μ΄ μ„λ²„κ°€ `www.google.com`μ΄ λ§μμ„ μ¦λ…ν•©λ‹λ‹¤.
  2. **κ³µκ°ν‚¤ μ „λ‹¬:** ν†µμ‹ μ„ μ•”νΈν™”ν•λ” λ° ν•„μ”ν• 'μ„λ²„μ κ³µκ°ν‚¤(Public Key)'λ¥Ό μ•μ „ν•κ² μ „λ‹¬ν•©λ‹λ‹¤.

### μΈμ¦μ„μ λ‚΄μ©λ¬Ό μƒμ„Έ λ¶„μ„

μΈμ¦μ„(.crt, .pem νμΌ)λ¥Ό μ—΄μ–΄λ³΄λ©΄ λ‹¤μκ³Ό κ°™μ€ ν•µμ‹¬ μ •λ³΄κ°€ λ“¤μ–΄μμµλ‹λ‹¤.

- `Subject (μ£Όμ²΄)`: μ΄ μΈμ¦μ„μ **μ†μ μ** μ •λ³΄ (μ: λ„λ©”μΈ μ΄λ¦„ `www.google.com`)
- `Issuer (λ°κΈ‰μ)`: μ΄ μΈμ¦μ„λ¥Ό λ°κΈ‰ν•΄ μ¤€ **CA**μ μ •λ³΄ (μ: `Google Trust Services LLC`)
- `Valid from/to (μ ν¨ κΈ°κ°„)`: μΈμ¦μ„κ°€ μ ν¨ν• κΈ°κ°„ (μ΄ κΈ°κ°„μ΄ μ§€λ‚λ©΄ λΈλΌμ°μ €λ” κ²½κ³ λ¥Ό λ„μ›λ‹λ‹¤.)
- `Subject's Public Key (μ£Όμ²΄μ κ³µκ°ν‚¤)`: **[λ§¤μ° μ¤‘μ”]** μ΄ μ„λ²„μ **κ³µκ°ν‚¤**μ…λ‹λ‹¤. (μ΄ ν‚¤λ΅ ν΄λΌμ΄μ–ΈνΈκ°€ λ€μΉ­ν‚¤λ¥Ό μ•”νΈν™”ν•μ—¬ μ„λ²„μ— λ³΄λƒ…λ‹λ‹¤.)
- `Digital Signature (λ””μ§€ν„Έ μ„λ…)`: **[κ°€μ¥ μ¤‘μ”]** μ΄ μΈμ¦μ„κ°€ **μ„μ΅°λμ§€ μ•μ•μ**μ„ λ°κΈ‰μμΈ **CAκ°€ λ³΄μ¦**ν•λ” μ „μ 'λ„μ¥'μ…λ‹λ‹¤.

### 3.4. λ””μ§€ν„Έ μ„λ… (Digital Signature)μ μ›λ¦¬

"μ΄ μΈμ¦μ„κ°€ μ§„μ§ CAκ°€ λ°κΈ‰ν• κ²ƒμΈμ§€, μ•„λ‹λ©΄ ν•΄μ»¤κ°€ μ„μ΅°ν• κ²ƒμΈμ§€"λ” **λ””μ§€ν„Έ μ„λ…**μ„ ν†µν•΄ κ²€μ¦ν•©λ‹λ‹¤.

> [CAκ°€ μΈμ¦μ„λ¥Ό λ°κΈ‰ν•λ” κ³Όμ • (μ„λ… μƒμ„±)]
>
> 1. CAλ” μ„λ²„μ μ •λ³΄(`Subject`, `Public Key` λ“±)λ¥Ό λ¨μ•„ μΈμ¦μ„ μ›λ³Έμ„ λ§λ“­λ‹λ‹¤.
> 2. μ΄ μ›λ³Έμ„ **ν•΄μ‹ ν•¨μ(SHA-256 λ“±)λ΅ λλ ¤** μ§§μ€ 'μ§€λ¬Έ(Digest)'μ„ λ§λ“­λ‹λ‹¤.
> 3. μ΄ 'μ§€λ¬Έ'μ„ CAμ λΉ„λ°€ν‚¤(Private Key)λ΅ **μ•”νΈν™”**ν•©λ‹λ‹¤.
> 4. μ΄ μ•”νΈν™”λ μ§€λ¬Έμ΄ λ°”λ΅ \**`λ””μ§€ν„Έ μ„λ…(Digital Signature)`*μ…λ‹λ‹¤.
> 5. `μΈμ¦μ„ μ›λ³Έ` + `λ””μ§€ν„Έ μ„λ…`μ„ ν•©μ³ μ„λ²„μ—κ² μ „λ‹¬ν•©λ‹λ‹¤.

> [λΈλΌμ°μ €κ°€ μΈμ¦μ„λ¥Ό κ²€μ¦ν•λ” κ³Όμ • (μ„λ… κ²€μ¦)]
>
> 1. λΈλΌμ°μ €λ” μ„λ²„λ΅λ¶€ν„° `μΈμ¦μ„ μ›λ³Έ` + `λ””μ§€ν„Έ μ„λ…`μ„ λ°›μµλ‹λ‹¤.
> 2. λΈλΌμ°μ €λ” μ΄ μΈμ¦μ„λ¥Ό λ°κΈ‰ν• CA(Issuer)λ¥Ό ν™•μΈν•κ³ , **OS/λΈλΌμ°μ €μ— λ‚΄μ¥λ 'ν•΄λ‹Ή CAμ κ³µκ°ν‚¤(Public Key)'**λ¥Ό μ°Ύμµλ‹λ‹¤.
> 3. **[κ²€μ¦ 1]** `λ””μ§€ν„Έ μ„λ…`μ„ **CAμ κ³µκ°ν‚¤**λ΅ **λ³µνΈν™”**ν•©λ‹λ‹¤. β†’ `μ›λ³Έ μ§€λ¬Έ(A)`μ΄ λ‚μµλ‹λ‹¤.
> 4. **[κ²€μ¦ 2]** ν•¨κ» λ°›μ€ `μΈμ¦μ„ μ›λ³Έ`μ„ **λ‘κ°™μ€ ν•΄μ‹ ν•¨μ(SHA-256 λ“±)λ΅ λλ ¤** `μƒλ΅μ΄ μ§€λ¬Έ(B)`μ„ κ³„μ‚°ν•©λ‹λ‹¤.
> 5. **[μµμΆ… λΉ„κµ]** `μ§€λ¬Έ(A)`μ™€ `μ§€λ¬Έ(B)`κ°€ **μΌμΉν•λ”μ§€ ν™•μΈ**ν•©λ‹λ‹¤.
>
> **κ²°κ³Ό:**
>
> - **μΌμΉν•λ©΄:** μ΄ μΈμ¦μ„λ” **μ΄ CAκ°€ λ°κΈ‰ν• κ²ƒμ΄ ν™•μ‹¤**ν•λ©°, μ¤‘κ°„μ— **μ „ν€ λ³€μ΅°λμ§€ μ•μ•μ**μ„ μλ―Έν•©λ‹λ‹¤. β†’ **μ‹ λΆ°! (μλ¬Όμ‡  ν‘μ‹)**
> - **λ¶μΌμΉν•λ©΄:** ν•΄μ»¤κ°€ μΈμ¦μ„λ¥Ό μ„μ΅°ν–κ±°λ‚(CAμ λΉ„λ°€ν‚¤κ°€ μ—†μΌλ―€λ΅ μ„λ… μ„μ΅° λ¶κ°€), μ¤‘κ°„μ— λ³€μ΅°λμ—μμ„ μλ―Έν•©λ‹λ‹¤. β†’ **κ²½κ³ ! (μ„ν— μ‚¬μ΄νΈ)**

---

## 4. HTTPSμ ν•µμ‹¬ μ›λ¦¬ (2): "μ•”νΈν™”"λ” μ–΄λ–»κ² μ΄λ£¨μ–΄μ§€λ”κ°€?

### 4.1. λ‘ κ°€μ§€ μ•”νΈν™” λ°©μ‹μ μ΄ν•΄

### (1) λ€μΉ­ν‚¤ (Symmetric Key) μ•”νΈν™”

- **μ›λ¦¬:** λ°μ΄ν„°λ¥Ό **μ•”νΈν™”ν•  λ• μ‚¬μ©ν•λ” μ—΄μ‡ **μ™€ **λ³µνΈν™”ν•  λ• μ‚¬μ©ν•λ” μ—΄μ‡ **κ°€ **μ™„μ „ν λ™μΌ**ν•©λ‹λ‹¤.
- **λΉ„μ :** μ§‘ ν„κ΄€λ¬Έ μ—΄μ‡  (μ κΈ€ λ• μ“΄ μ—΄μ‡  = μ—΄ λ• μ“Έ μ—΄μ‡ )
- **λ€ν‘ μ•κ³ λ¦¬μ¦:** AES-128, AES-256 (ν„μ¬ κ°€μ¥ λ„λ¦¬ μ“°μ„)
- **μ¥μ :**
  - **β… λ§¤μ° λΉ λ¦„:** μ•”νΈν™”/λ³µνΈν™” μ—°μ‚° μ†λ„κ°€ μ••λ„μ μΌλ΅ λΉ λ¦…λ‹λ‹¤.
- **λ‹¨μ :**
  - **π¨ μΉλ…μ μΈ ν‚¤ λ°°μ†΅ λ¬Έμ  (Key Distribution Problem):**
    - "μ΄ μ—΄μ‡ (λ€μΉ­ν‚¤)λ¥Ό μ–΄λ–»κ² μƒλ€λ°©μ—κ² μ•μ „ν•κ² μ „λ‹¬ν•  κ²ƒμΈκ°€?"
    - λ§μ•½ μ—΄μ‡ λ¥Ό μ „λ‹¬ν•λ” κ³Όμ •(λ„¤νΈμ›ν¬)μ—μ„ ν•΄μ»¤κ°€ μ—΄μ‡ λ¥Ό ν›”μ³λ³Έλ‹¤λ©΄(λ„μ²­), λ¨λ“  μ•”νΈν™”κ°€ λ¬΄μ©μ§€λ¬Όμ΄ λ©λ‹λ‹¤.

[Symmetric Key Cryptography diagram μ΄λ―Έμ§€](https://encrypted-tbn1.gstatic.com/licensed-image?q=tbn:ANd9GcQRkLrvagUv7-jA1jfzLPWCdszkWTHt9rxnhwF7ZkGWh3t8zLWu5Vgscfr97O84URDgMEePtyjOjrlWFWKQv4HeeVQLIscj7SXVpCKMVnkOAp7CMHQ)

Shutterstock

### (2) λΉ„λ€μΉ­ν‚¤ (Asymmetric Key) μ•”νΈν™” (κ³µκ°ν‚¤ λ°©μ‹)

- **μ›λ¦¬:** μ•”νΈν™”/λ³µνΈν™”μ— μ„λ΅ λ‹¤λ¥Έ λ‘ κ°μ μ—΄μ‡ (ν• μ)λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤.
  - **κ³µκ°ν‚¤ (Public Key):** λ„κµ¬λ‚ κ°€μ Έκ° μ μλ„λ΅ **κ³µκ°**ν•λ” μ—΄μ‡ . μ΄ μ—΄μ‡ λ΅λ” **μ•”νΈν™”**λ§ ν•  μ μμµλ‹λ‹¤.
  - **λΉ„λ°€ν‚¤ (Private Key):** μ„λ²„(λ‚)λ§ **λΉ„λ°€**λ¦¬μ— κ°„μ§ν•λ” μ—΄μ‡ . μ΄ μ—΄μ‡ λ΅λ§ λ³µνΈν™”(ν•΄λ…)ν•  μ μμµλ‹λ‹¤.
- **λΉ„μ :** μ°μ²΄ν†µ
  - **κ³µκ°ν‚¤:** λ„κµ¬λ‚ νΈμ§€λ¥Ό λ„£μ„ μ μλ” 'μ°μ²΄ν†µ ν¬μ…κµ¬'
  - **λΉ„λ°€ν‚¤:** μ¤μ§ μ§‘μ£ΌμΈλ§ κ°€μ§„ 'μ°μ²΄ν†µ μ—΄μ‡ ' (ν¬μ…κµ¬λ΅ νΈμ§€λ¥Ό λ‹¤μ‹ κΊΌλ‚Ό μ μ—†μ)
- **λ€ν‘ μ•κ³ λ¦¬μ¦:** RSA, λ””ν”Ό-ν—¬λ§(DH)
- **μ¥μ :**
  - **β… ν‚¤ λ°°μ†΅ λ¬Έμ  μ™„λ²½ ν•΄κ²°:**
    - 'κ³µκ°ν‚¤(ν¬μ…κµ¬)'λ” μΈν„°λ„·μ— λ€λ†“κ³  λΏλ ¤λ„ μ•μ „ν•©λ‹λ‹¤.
    - ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ κ³µκ°ν‚¤λ΅ λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•΄μ„ λ³΄λ‚΄κΈ°λ§ ν•λ©΄ λ©λ‹λ‹¤. ν•΄μ»¤κ°€ μ¤‘κ°„μ— κ°€λ΅μ±„λ„ 'λΉ„λ°€ν‚¤(μ°μ²΄ν†µ μ—΄μ‡ )'κ°€ μ—†μΌλ©΄ μ λ€ μ—΄μ–΄λ³Ό μ μ—†μµλ‹λ‹¤.
- **λ‹¨μ :**
  - **π¨ λ§¤μ° λλ¦Ό:** μ—°μ‚° κ³Όμ •μ΄ λ§¤μ° λ³µμ΅ν•μ—¬, λ€μΉ­ν‚¤ λ°©μ‹λ³΄λ‹¤ **μλ°±~μμ² λ°° λλ¦½λ‹λ‹¤.** μ›Ήμ‚¬μ΄νΈμ λ¨λ“  λ°μ΄ν„°λ¥Ό μ΄κ±Έλ΅ μ•”νΈν™”ν•λ” κ²ƒμ€ ν„μ‹¤μ μΌλ΅ λ¶κ°€λ¥ν•©λ‹λ‹¤.

[Asymmetric Key (Public Key) Cryptography diagram μ΄λ―Έμ§€](https://encrypted-tbn0.gstatic.com/licensed-image?q=tbn:ANd9GcSJR7S9oCcP3cuVgBdZ11CbXQqR8bEkFDXU5nHbl9IewRg3-q-c14XTdeb733uIWK6vorsG2QXveI5xG0sPLq4tgvldDcPaby_g6ZyHNHSXueYlpcU)

Shutterstock

---

### 4.2. HTTPSμ ν•μ΄λΈλ¦¬λ“ μ „λµ (μµμ μ μ΅°ν•©)

HTTPSλ” μ΄ λ‘ λ°©μ‹μ μ¥μ λ§μ„ κΈ°κ°€ λ§‰νκ² μ΅°ν•©ν•©λ‹λ‹¤.

> "λλ¦¬μ§€λ§ μ•μ „ν•" λΉ„λ€μΉ­ν‚¤λ΅ "λΉ λ¥΄μ§€λ§ ν‚¤ μ „λ‹¬μ΄ λ¬Έμ μΈ" λ€μΉ­ν‚¤λ¥Ό μ•μ „ν•κ² μ „λ‹¬ν•μ!

### 1λ‹¨κ³„: ν‚¤ κµν™ (Key Exchange) - (λΉ„λ€μΉ­ν‚¤ μ‚¬μ©)

- **λ©ν‘:** μ‹¤μ  ν†µμ‹ μ— μ‚¬μ©ν•  'λ€μΉ­ν‚¤(μ„Έμ… ν‚¤)'λ¥Ό ν•΄μ»¤μ—κ² λ“¤ν‚¤μ§€ μ•κ³  μ•μ „ν•κ² **μƒμ„± λ° κ³µμ **ν•©λ‹λ‹¤.
- **λ™μ‘:**
  1. ν΄λΌμ΄μ–ΈνΈ(λΈλΌμ°μ €)λ” κ²€μ¦ν• μ„λ²„μ **μΈμ¦μ„**μ—μ„ 'μ„λ²„μ κ³µκ°ν‚¤'λ¥Ό κΊΌλƒ…λ‹λ‹¤.
  2. ν΄λΌμ΄μ–ΈνΈλ” μ΄λ² ν†µμ‹ μ—λ§ μ‚¬μ©ν•  **μ„μ‹ λ€μΉ­ν‚¤(μ„Έμ… ν‚¤)λ¥Ό ν•λ‚ μƒμ„±**ν•©λ‹λ‹¤.
  3. μ΄ **μ„Έμ… ν‚¤**λ¥Ό 'μ„λ²„μ κ³µκ°ν‚¤'λ΅ **μ•”νΈν™”**ν•μ—¬ μ„λ²„μ—κ² λ³΄λƒ…λ‹λ‹¤.
  4. μ„λ²„λ” μ•”νΈν™”λ λ©”μ‹μ§€λ¥Ό μμ‹ μ 'λΉ„λ°€ν‚¤'λ΅ λ³µνΈν™”ν•μ—¬ **μ„Έμ… ν‚¤**λ¥Ό μ–»μ–΄λƒ…λ‹λ‹¤.
- **κ²°κ³Ό:** μ΄μ  ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„, **λ‹¨ λ‘λ§μ΄** μ΄λ² ν†µμ‹ μ— μ‚¬μ©ν•  λΉ„λ°€ 'μ„Έμ… ν‚¤'λ¥Ό μ•μ „ν•κ² κ³µμ ν–μµλ‹λ‹¤. (λΉ„λ€μΉ­ν‚¤μ μ—­ν• μ€ μ—¬κΈ°κΉμ§€!)

### 2λ‹¨κ³„: λ°μ΄ν„° μ „μ†΅ (Data Transfer) - (λ€μΉ­ν‚¤ μ‚¬μ©)

- **λ©ν‘:** μ‹¤μ  HTTP μ”μ²­/μ‘λ‹µ λ°μ΄ν„°λ¥Ό **λΉ λ¥΄κ²** μ•”νΈν™”ν•μ—¬ μ£Όκ³ λ°›μµλ‹λ‹¤.
- **λ™μ‘:**
  1. ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„λ” 1λ‹¨κ³„μ—μ„ λ°©κΈ κ³µμ ν• 'μ„Έμ… ν‚¤(λ€μΉ­ν‚¤)'λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤.
  2. μ΄ λ€μΉ­ν‚¤(μ: AES-256)λ¥Ό μ΄μ©ν•΄ **λ§¤μ° λΉ λ¥Έ μ†λ„**λ΅ HTTP λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•κ³  λ³µνΈν™”ν•λ©° ν†µμ‹ ν•©λ‹λ‹¤.
- **κ²°κ³Ό:** 'μ•μ „(λΉ„λ€μΉ­ν‚¤)'κ³Ό 'μ†λ„(λ€μΉ­ν‚¤)'λΌλ” λ‘ λ§λ¦¬ ν† λΌλ¥Ό λ¨λ‘ μ΅μ•μµλ‹λ‹¤.

---

## π“ 5. SSL/TLS ν•Έλ“μ…°μ΄ν¬: "λ³΄μ• μ„Έμ…" μλ¦½μ μ „ κ³Όμ •

ν•Έλ“μ…°μ΄ν¬(Handshake, μ•…μ)λ” ν΄λΌμ΄μ–ΈνΈ(λΈλΌμ°μ €)μ™€ μ„λ²„κ°€ **μ•”νΈν™”λ λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›κΈ° μ „μ—, μ„λ΅ 'λ³΄μ• κ·μΉ™'μ„ μ •ν•κ³  'μ‹ μ›μ„ ν™•μΈ'ν•λ” ν‘μƒ κ³Όμ •**μ…λ‹λ‹¤.

![image.png](./image/https-image%201.png)

![image.png](./image/https-image%202.png)

### 5.1. ν•Έλ“μ…°μ΄ν¬μ 3κ°€μ§€ λ©ν‘

1. **μ•”νΈν™” κ·μ•½ ν•©μ (Cipher Suite):**
   - "μ°λ¦¬ μ–΄λ–¤ μ•”νΈν™” μ•κ³ λ¦¬μ¦(AES? RSA?) μ“ΈκΉ?"
   - "λ°μ΄ν„° λ¬΄κ²°μ„±μ€ λ­λ΅(SHA-256?) κ²€μ¦ν• κΉ?"
   - ...λ“±μ„ μ„λ΅κ°€ μ§€μ›ν•λ” λ©λ΅(Cipher Suite) μ¤‘μ—μ„ ν•©μν•©λ‹λ‹¤.
2. **μ„λ²„ μΈμ¦ (Authentication):**
   - "λ‹Ήμ‹ μ΄ μ§„μ§ `google.com` λ§μ•„μ”?"
   - μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ—κ² `μΈμ¦μ„`(3μ¥)λ¥Ό μ μ‹ν•κ³ , ν΄λΌμ΄μ–ΈνΈλ” μ΄λ¥Ό κ²€μ¦ν•©λ‹λ‹¤.
3. **μ„Έμ… ν‚¤ μƒμ„± (Key Exchange):**
   - "μ΄μ λ¶€ν„° μ°λ¦¬ λ‘λ§ μ΄ μ—΄μ‡ (λ€μΉ­ν‚¤)λ΅ λ€ν™”ν•μ."
   - `λΉ„λ€μΉ­ν‚¤`(4μ¥) κΈ°μ μ„ μ΄μ©ν•΄, μ‹¤μ  ν†µμ‹ μ„ μ•”νΈν™”ν•  `λ€μΉ­ν‚¤(μ„Έμ… ν‚¤)`λ¥Ό μ•μ „ν•κ² μƒμ„±ν•μ—¬ κ³µμ ν•©λ‹λ‹¤.

---

### 5.2. [κµ¬] TLS 1.2 ν•Έλ“μ…°μ΄ν¬ (2-RTT)

μ¤λ«λ™μ• ν‘μ¤€μ΄μ—λ λ°©μ‹μΌλ΅, 2λ²μ μ™•λ³µ(2-RTT)μ΄ ν•„μ”ν•΄ μ†λ„κ°€ λλ Έμµλ‹λ‹¤.
(β€» TCP μ—°κ²°μ— ν•„μ”ν• 1-RTTκΉμ§€ ν¬ν•¨ν•λ©΄, μ‹¤μ  λ°μ΄ν„° μ „μ†΅κΉμ§€ **μ΄ 3-RTT** μ†μ”)

### β΅οΈ μ™•λ³µ 1 (Round Trip 1)

1. **Client β†’ Server : `ClientHello`**
   - "μ•λ…•ν•μ„Έμ”. μ κ°€ μ“Έ μ μλ” μ•”νΈν™” λ°©μ‹(Cipher Suite) λ©λ΅κ³Ό λλ¤ λ°μ΄ν„°(A)λ¥Ό λ“λ¦΄κ²μ”."
2. **Server β†’ Client : `ServerHello`, `Certificate`, `ServerHelloDone`**
   - `ServerHello`: "λ°κ°€μ›μ”. κ·Έ λ©λ΅ μ¤‘μ—μ„ **μ΄κ±Έλ΅(Cipher Suite) ν•©μ‹λ‹¤.** μ—¬κΈ° μ  λλ¤ λ°μ΄ν„°(B)μ…λ‹λ‹¤."
   - `Certificate`: **[μΈμ¦]** "κ·Έλ¦¬κ³  μ κ°€ μ§„μ§λΌλ” μ¦κ±°λ΅ **μ  μΈμ¦μ„(κ³µκ°ν‚¤ ν¬ν•¨)λ¥Ό λ“λ¦΄κ²μ”.**" (3μ¥ μ›λ¦¬)
   - `ServerHelloDone`: "μ κ°€ ν•  λ§μ€ μΌλ‹¨ λλ‚¬μµλ‹λ‹¤."

### β¬…οΈ μ™•λ³µ 2 (Round Trip 2)

1. **Client β†’ Server : `ClientKeyExchange`, `ChangeCipherSpec`, `Finished`**
   - **[μ•”νΈν™”]** (ν΄λΌμ΄μ–ΈνΈλ” λ°›μ€ μΈμ¦μ„λ¥Ό κ²€μ¦.)
   - `ClientKeyExchange`: "μΈμ¦μ„ μ λ°›μ•μ–΄μ”. μ΄μ  **μ„Έμ… ν‚¤λ¥Ό λ§λ“­μ‹λ‹¤.**"
     - ν΄λΌμ΄μ–ΈνΈλ” `λλ¤ λ°μ΄ν„°(A)` + `λλ¤ λ°μ΄ν„°(B)`λ¥Ό μ΅°ν•©ν•΄ **'μ„Έμ… ν‚¤'**λ¥Ό μƒμ„±ν•©λ‹λ‹¤.
     - μ΄ 'μ„Έμ… ν‚¤'λ¥Ό μ•„κΉ λ°›μ€ μ„λ²„μ κ³µκ°ν‚¤(λΉ„λ€μΉ­ν‚¤)λ΅ **μ•”νΈν™”**ν•΄μ„ λ³΄λƒ…λ‹λ‹¤. (4μ¥ μ›λ¦¬)
   - `ChangeCipherSpec`: "μΆ‹μ•„μ”. μ €λ„ μ§€κΈλ¶€ν„° λ°©κΈ λ³΄λ‚Έ 'μ„Έμ… ν‚¤'λ΅ μ•”νΈν™”ν•΄μ„ λ§ν• κ²μ”."
   - `Finished`: "μ  μ½ ν‘μƒμ€ λλ‚¬μµλ‹λ‹¤. (μ΄ λ©”μ‹μ§€λ” 'μ„Έμ… ν‚¤'λ΅ μ•”νΈν™”λ μ²« λ©”μ‹μ§€)"
2. **Server β†’ Client : `ChangeCipherSpec`, `Finished`**
   - (μ„λ²„λ” `ClientKeyExchange`λ΅ λ°›μ€ μ•”νΈν™”λ λ©”μ‹μ§€λ¥Ό μμ‹ μ **λΉ„λ°€ν‚¤**λ΅ λ³µνΈν™”ν•μ—¬ 'μ„Έμ… ν‚¤'λ¥Ό ν™•λ³΄.)
   - `ChangeCipherSpec`: "λ‚λ„ μ΄μ λ¶€ν„° κ·Έ 'μ„Έμ… ν‚¤'λ΅ μ•”νΈν™”ν•΄μ„ λ§ν• κ²μ”."
   - `Finished`: "λ‚λ„ ν‘μƒ λλ‚¬μµλ‹λ‹¤. (μ΄κ²ƒλ„ 'μ„Έμ… ν‚¤'λ΅ μ•”νΈν™”λ¨)"

**κ²°κ³Ό:** μ΄ 2λ²μ μ™•λ³µ(2-RTT) ν›„, ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„λ” λ™μΌν• 'μ„Έμ… ν‚¤(λ€μΉ­ν‚¤)'λ¥Ό κ³µμ ν•κ² λ©λ‹λ‹¤. μ΄μ λ¶€ν„° μ΄ ν‚¤λ΅ λΉ λ¥΄κ³  μ•μ „ν•κ² ν†µμ‹ ν•©λ‹λ‹¤.

---

### 5.3. [ν„] TLS 1.3 ν•Έλ“μ…°μ΄ν¬ (1-RTT)

TLS 1.2μ λλ¦° μ†λ„(2-RTT)λ¥Ό κ°μ„ ν• **ν„μ¬μ ν‘μ¤€**μ…λ‹λ‹¤. λ¶ν•„μ”ν• κ³Όμ •μ„ κ³Όκ°ν μƒλµν•μ—¬ **1-RTT**λ΅ λ‹¨μ¶•μ‹μΌ°μµλ‹λ‹¤.
(β€» TCP μ—°κ²° 1-RTT ν¬ν•¨ **μ΄ 2-RTT** μ†μ”)

### β΅οΈ μ™•λ³µ 1 (Round Trip 1)

1. **Client β†’ Server : `ClientHello` (+ KeyShare)**
   - **[ν•µμ‹¬]** "μ•λ…•ν•μ„Έμ”. μ κ°€ μ“Έ μ μλ” μ•”νΈν™” λ°©μ‹(Cipher Suite) λ©λ΅μ…λ‹λ‹¤."
   - "κ·Έλ¦¬κ³  μ‹κ°„ μ•„κΉμ°λ‹, **μ κ°€ μ‚¬μ©ν•  ν‚¤ κµν™ λ°©μ‹(μ: λ””ν”Ό-ν—¬λ§)μ ν‚¤ κ³µμ  λ°μ΄ν„°({KeyShare})λ¥Ό λ―Έλ¦¬ λ³΄λ‚Όκ²μ”.**" (TLS 1.2μ— μ—†λ κ³Όμ •)
2. **Server β†’ Client : `ServerHello`, `{KeyShare}`, `EncryptedExtensions`, `Certificate`, `CertificateVerify`, `Finished`**
   - **[ν•µμ‹¬]** (μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈκ°€ λ―Έλ¦¬ λ³΄λ‚Έ `KeyShare`λ¥Ό λ³΄κ³  **'μ„Έμ… ν‚¤'λ¥Ό μ¦‰μ‹ μƒμ„±**ν•©λ‹λ‹¤.)
   - `ServerHello`: "λ°κ°€μ›μ”. κ·Έκ±Έλ΅ ν•©μ‹λ‹¤. **μ—¬κΈ° μ  ν‚¤ κ³µμ  λ°μ΄ν„°({KeyShare})μ…λ‹λ‹¤.**" (μ΄ μκ°„, μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ λ¨λ‘ 'μ„Έμ… ν‚¤' μƒμ„±μ΄ μ™„λ£λ¨)
   - **(μ΄ν• λ¨λ“  λ©”μ‹μ§€λ” λ°©κΈ μƒμ„±λ 'μ„Έμ… ν‚¤'λ΅ μ¦‰μ‹ μ•”νΈν™”λ¨)**
   - `EncryptedExtensions`: "μ•”νΈν™”λ ν™•μ¥ κΈ°λ¥μ…λ‹λ‹¤."
   - `Certificate`: **[μΈμ¦]** "μ΄κ±΄ μ  μΈμ¦μ„μ… λ‹λ‹¤."
   - `CertificateVerify`: "μ κ°€ κ·Έ μΈμ¦μ„μ μ£ΌμΈμ„μ„ μ¦λ…ν•©λ‹λ‹¤."
   - `Finished`: "μ  μ½ ν‘μƒμ€ μ΄κ±Έλ΅ λμ…λ‹λ‹¤."
3. **Client β†’ Server : `Finished`**
   - (ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ μ‘λ‹µμ„ λ°›κ³  μΈμ¦μ„λ¥Ό κ²€μ¦ν• λ’¤, μ„λ²„μ `KeyShare`λ΅ 'μ„Έμ… ν‚¤' μƒμ„±μ„ μ™„λ£.)
   - **(μ΄ λ©”μ‹μ§€λ„ 'μ„Έμ… ν‚¤'λ΅ μ•”νΈν™”λ¨)**
   - `Finished`: "μ €λ„ λλ‚¬μµλ‹λ‹¤." (μ΄ν›„ λ°”λ΅ μ•”νΈν™”λ HTTP μ”μ²­ λ°μ΄ν„° μ „μ†΅ κ°€λ¥)

**κ²°κ³Ό:** λ‹¨ 1λ²μ μ™•λ³µ(1-RTT) λ§μ— 'μΈμ¦'κ³Ό 'μ„Έμ… ν‚¤ μƒμ„±'μ΄ λ¨λ‘ μ™„λ£λ©λ‹λ‹¤. TLS 1.2 λ€λΉ„ μ—°κ²° μ†λ„κ°€ νκΈ°μ μΌλ΅ λΉ¨λΌμ΅μµλ‹λ‹¤.

---

### 5.4. μ‚¬μ΄νΌ μνΈ (Cipher Suite)λ€?

![image.png](./image/https-image%203.png)

ν•Έλ“μ…°μ΄ν¬μ μ²« λ‹¨κ³„(`ClientHello`)μ—μ„ ν•©μν•λ” **'μ•”νΈν™” μ•κ³ λ¦¬μ¦ μ„ΈνΈ'**μ…λ‹λ‹¤. μ΄ μ„ΈνΈ ν•λ‚κ°€ λ³΄μ• ν†µμ‹ μ— ν•„μ”ν• λ¨λ“  κΈ°μ μ„ μ •μν•©λ‹λ‹¤.

- **μμ‹:** `TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256`
- **λ¶„μ„:**
  - `TLS`: ν”„λ΅ν† μ½
  - `ECDHE`: **[ν‚¤ κµν™]** 'μ„Έμ… ν‚¤'λ¥Ό μ–΄λ–»κ² μƒμ„±ν•  κ²ƒμΈκ°€? (λ””ν”Ό-ν—¬λ§ λ°©μ‹)
  - `RSA`: **[μΈμ¦]** μ„λ²„ μΈμ¦μ„λ¥Ό κ²€μ¦ν•  λ• μ–΄λ–¤ λΉ„λ€μΉ­ν‚¤ κΈ°μ μ„ μ“Έ κ²ƒμΈκ°€? (RSA μΈμ¦μ„)
  - `AES_128_GCM`: **[λ°μ΄ν„° μ•”νΈν™”]** μ‹¤μ  λ°μ΄ν„°λ” μ–΄λ–¤ 'λ€μΉ­ν‚¤' λ°©μ‹μΌλ΅ μ•”νΈν™”ν•  κ²ƒμΈκ°€? (AES-128)
  - `SHA256`: **[λ¬΄κ²°μ„±]** λ°μ΄ν„°κ°€ λ³€μ΅°λμ§€ μ•μ•λ”μ§€ μ–΄λ–¤ 'ν•΄μ‹' λ°©μ‹μΌλ΅ κ²€μ¦ν•  κ²ƒμΈκ°€? (SHA-256)

---

### 5.5. PFS (Perfect Forward Secrecy)μ™€ λ””ν”Ό-ν—¬λ§ (ECDHE)

TLS 1.3μ΄ κ°•μ ν•λ” λ§¤μ° μ¤‘μ”ν• ν„λ€ λ³΄μ• κ°λ…μ…λ‹λ‹¤.

- **λ¬Έμ  μ κΈ°:** λ§μ•½ ν•΄μ»¤κ°€ μ„λ²„μ **'λΉ„λ°€ν‚¤(Private Key)'**λ¥Ό νƒμ·¨ν•λ©΄ μ–΄λ–»κ² λ κΉμ”?
  - (TLS 1.2μ κµ¬ν• λ°©μ‹μΈ) `RSA ν‚¤ κµν™`μ„ μ‚¬μ©ν–λ‹¤λ©΄, ν•΄μ»¤λ” μ•”νΈν™”λ 'μ„Έμ… ν‚¤'λ¥Ό λ³µνΈν™”ν•  μ μμµλ‹λ‹¤.
  - μ¦‰, ν•΄μ»¤κ°€ **κ³Όκ±°μ— λ…Ήν™”(μμ§‘)ν•΄ λ‘” λ¨λ“  HTTPS ν†µμ‹  λ‚΄μ©**μ„ **μ „λ¶€ ν•΄λ…**ν•  μ μκ² λ©λ‹λ‹¤. (μµμ•…μ μ‹λ‚λ¦¬μ¤)
- **ν•΄κ²°μ±…: PFS (μ™„μ „ μλ°©ν–¥ λΉ„λ°€μ„±)**
  - **"λ§μ•½ μ„λ²„μ λΉ„λ°€ν‚¤κ°€ μ μ¶λλ”λΌλ„, κ³Όκ±°μ ν†µμ‹  λ‚΄μ©μ€ μ λ€ ν•΄λ…ν•  μ μ—†μ–΄μ•Ό ν•λ‹¤."**
- **κµ¬ν„: λ””ν”Ό-ν—¬λ§ ν‚¤ κµν™ (ECDHE)**
  - `RSA ν‚¤ κµν™`μ΄ μ„λ²„μ 'κ³µκ°ν‚¤/λΉ„λ°€ν‚¤'λ΅ 'μ„Έμ… ν‚¤'λ¥Ό μ•”νΈν™”ν•΄ **μ „λ‹¬**ν•λ” λ°©μ‹μ΄λΌλ©΄,
  - `λ””ν”Ό-ν—¬λ§(ECDHE)`μ€ μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈκ°€ κ°μ "μ„μ‹ ν‚¤(Ephemeral Key)"λ¥Ό λ§λ“¤κ³ , μ΄ μ„μ‹ ν‚¤μ μΌλ¶€(κ³µκ°ν‚¤)λ§ κµν™ν• λ’¤, "μν•™μ  κ³„μ‚°"μ„ ν†µν•΄ μ–‘μ½μ΄ **λ™μΌν• 'μ„Έμ… ν‚¤'λ¥Ό κ°μ 'μƒμ„±'**ν•΄λ‚΄λ” λ°©μ‹μ…λ‹λ‹¤.
  - **ν•µμ‹¬:** 'μ„Έμ… ν‚¤' μμ²΄κ°€ λ„¤νΈμ›ν¬λ΅ μ „μ†΅λμ§€ μ•μΌλ©°, ν†µμ‹ μ΄ λλ‚λ©΄ 'μ„μ‹ ν‚¤'λ” νκΈ°λ©λ‹λ‹¤.
  - **κ²°κ³Ό:** λ‚μ¤‘μ— μ„λ²„μ (μΈμ¦μ„) λΉ„λ°€ν‚¤κ°€ μ μ¶λμ–΄λ„, 'μ„μ‹ ν‚¤'λ” μ΄λ―Έ μ‚¬λΌμ΅κΈ° λ•λ¬Έμ— κ³Όκ±°μ 'μ„Έμ… ν‚¤'λ¥Ό μ λ€ λ³µμ›ν•  μ μ—†μµλ‹λ‹¤.

---

## 6. HTTPμ™€ HTTPS: μ™€μ΄μ–΄μƒ¤ν¬λ΅ ν¨ν‚· λ―μ–΄λ³΄κΈ°

### 6.1. HTTP ν¨ν‚· λ¶„μ„

                                 μ”μ²­

![image.png](./image/https-image%204.png)

                        μ‘λ‹µ

![image.png](./image/https-image%205.png)

HTTP μ‚¬μ΄νΈ(`http://`)μ— μ ‘μ†ν•λ©° μ™€μ΄μ–΄μƒ¤ν¬λ΅ ν¨ν‚·μ„ μΊ΅μ²ν•λ©΄, 1μ¥μ—μ„ λ°°μ΄ **'ν‰λ¬Έ ν†µμ‹ '**μ μ·¨μ•½μ μ„ κ·Έλ€λ΅ λ©κ²©ν•  μ μμµλ‹λ‹¤.

- **ν•„ν„°:** μ™€μ΄μ–΄μƒ¤ν¬μ—μ„ `http`λΌκ³  ν•„ν„°λ§ν•©λ‹λ‹¤.
- **λ³΄μ΄λ” κ²ƒ:**
  1. **Request (μ”μ²­):** `GET /r/gsr1.crl HTTP/1.1`, `Host: c.pki.goog`λ“± ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— μ”μ²­ν• **λ¨λ“  λ‚΄μ©μ΄ ν‰λ¬Έ**μΌλ΅ λ³΄μ…λ‹λ‹¤.
  2. **Response (μ‘λ‹µ):** `HTTP/1.1 200 OK`, `Content-Type` λ° μ„λ²„κ°€ λ³΄λ‚Έ **HTML μ†μ¤ μ½”λ“ μ „μ²΄**κ°€ κ·Έλ€λ΅ λ…Έμ¶λ©λ‹λ‹¤.
  3. **[μΉλ…νƒ€] λ΅κ·ΈμΈ ν¨ν‚·:** λ§μ•½ λ΅κ·ΈμΈ νΌμ΄ μλ” HTTP μ‚¬μ΄νΈλΌλ©΄, νΌμ„ μ „μ†΅ν•λ” ν¨ν‚·(`POST /login`)μ„ μ—΄μ—μ„ λ• **μ•„μ΄λ””μ™€ λΉ„λ°€λ²νΈκ°€ ν‰λ¬Έ**μΌλ΅ λ…Έμ¶λ©λ‹λ‹¤.
- **κ²°λ΅ :** 'λ„μ²­(Eavesdropping)'μ΄ 100% κ°€λ¥ν•¨μ„ λμΌλ΅ μ¦λ…ν•©λ‹λ‹¤.

### 6.2. HTTPS ν¨ν‚· λ¶„μ„

ν•Έλ“μ…°μ΄ν¬ κ³Όμ •

![image.png](./image/https-image%201.png)

![image.png](./image/https-image%206.png)

https μ λ°μ΄ν„°

![image.png](./image/https-image%207.png)

- **λ³΄μ΄λ” κ²ƒ:**
  1. **TCP 3-Way Handshake:** κ°€μ¥ λ¨Όμ € `[SYN]`, `[SYN, ACK]`, `[ACK]` ν¨ν‚·μ΄ μ¤κ°€λ©° TCP μ—°κ²°μ„ μλ¦½ν•©λ‹λ‹¤.
  2. **SSL/TLS Handshake:**
     - `ClientHello` (ν΄λΌμ΄μ–ΈνΈκ°€ `TLSv1.3` μ§€μ› λ©λ΅μ„ λ³΄λƒ„)
     - `ServerHello`, `Certificate`, `Finished` (μ„λ²„κ°€ μ‚¬μ©ν•  μ•”νΈν™” λ°©μ‹, `μΈμ¦μ„`, `ν‚¤ κµν™ μ •λ³΄`λ¥Ό λ³΄λƒ„)
     - μ΄ ν¨ν‚·λ“¤μ€ μ•”νΈν™”λκΈ° μ „μ΄λ―€λ΅, 'μΈμ¦μ„λ¥Ό λ³΄λƒκµ¬λ‚' μ •λ„λ” **ν™•μΈν•  μ μμµλ‹λ‹¤.**
  3. **[ν•µμ‹¬] `Application Data` (μ•”νΈν™”λ λ°μ΄ν„°):**
     - ν•Έλ“μ…°μ΄ν¬κ°€ λλ‚ ν›„, μ‹¤μ  HTTP μ”μ²­/μ‘λ‹µ(μ: `GET /login`, `POST /login`)μ΄ μ¤κ³  κ°‘λ‹λ‹¤.
     - ν•μ§€λ§ μ™€μ΄μ–΄μƒ¤ν¬μ—λ” μ΄ λ¨λ“  ν¨ν‚·μ΄ **`Application Data`\*λΌλ” μ΄λ¦„μΌλ΅ ν‘μ‹λλ©°, **λ‚΄μ©λ¬Όμ€ μ™„λ²½ν•κ² μ•”νΈν™”λ 'μ• μ μ—†λ” μ“°λ κΈ° κ°’'\*\*μΌλ΅ λ³΄μ…λ‹λ‹¤.
- **κ²°λ΅ :**
  - 'TLS ν•Έλ“μ…°μ΄ν¬'κ°€ μ‹¤μ λ΅ μΌμ–΄λ‚¨μ„ ν™•μΈν–μµλ‹λ‹¤.
  - **'μ•”νΈν™”(Encryption)'** λ•λ¶„μ—, `Application Data`λ¥Ό λ„μ²­ν•΄λ„ μ•„μ΄λ””, λΉ„λ°€λ²νΈ λ“± **μ–΄λ–¤ μ μλ―Έν• μ •λ³΄λ„ μ–»μ„ μ μ—†μ**μ„ μ¦λ…ν•©λ‹λ‹¤.
